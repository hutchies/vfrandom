(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const r of i)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function l(i){const r={};return i.integrity&&(r.integrity=i.integrity),i.referrerpolicy&&(r.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?r.credentials="include":i.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function n(i){if(i.ep)return;i.ep=!0;const r=l(i);fetch(i.href,r)}})();function ee(){}function De(e){return e()}function se(){return Object.create(null)}function Y(e){e.forEach(De)}function Oe(e){return typeof e=="function"}function $e(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}function ze(e){return Object.keys(e).length===0}function d(e,t){e.appendChild(t)}function C(e,t,l){e.insertBefore(t,l||null)}function y(e){e.parentNode.removeChild(e)}function Q(e,t){for(let l=0;l<e.length;l+=1)e[l]&&e[l].d(t)}function p(e){return document.createElement(e)}function j(e){return document.createTextNode(e)}function N(){return j(" ")}function G(e,t,l,n){return e.addEventListener(t,l,n),()=>e.removeEventListener(t,l,n)}function E(e,t,l){l==null?e.removeAttribute(t):e.getAttribute(t)!==l&&e.setAttribute(t,l)}function Be(e){return Array.from(e.childNodes)}function K(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function M(e,t,l,n){l===null?e.style.removeProperty(t):e.style.setProperty(t,l,n?"important":"")}function fe(e,t){for(let l=0;l<e.options.length;l+=1){const n=e.options[l];if(n.__value===t){n.selected=!0;return}}e.selectedIndex=-1}function Re(e){const t=e.querySelector(":checked")||e.options[0];return t&&t.__value}function te(e,t,l){e.classList[l?"add":"remove"](t)}let ce;function U(e){ce=e}const Z=[],ue=[],X=[],ae=[],qe=Promise.resolve();let oe=!1;function Fe(){oe||(oe=!0,qe.then(Le))}function le(e){X.push(e)}const ne=new Set;let W=0;function Le(){const e=ce;do{for(;W<Z.length;){const t=Z[W];W++,U(t),Je(t.$$)}for(U(null),Z.length=0,W=0;ue.length;)ue.pop()();for(let t=0;t<X.length;t+=1){const l=X[t];ne.has(l)||(ne.add(l),l())}X.length=0}while(Z.length);for(;ae.length;)ae.pop()();oe=!1,ne.clear(),U(e)}function Je(e){if(e.fragment!==null){e.update(),Y(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(le)}}const Ge=new Set;function Ke(e,t){e&&e.i&&(Ge.delete(e),e.i(t))}function Ve(e,t,l,n){const{fragment:i,on_mount:r,on_destroy:o,after_update:s}=e.$$;i&&i.m(t,l),n||le(()=>{const h=r.map(De).filter(Oe);o?o.push(...h):Y(h),e.$$.on_mount=[]}),s.forEach(le)}function Ye(e,t){const l=e.$$;l.fragment!==null&&(Y(l.on_destroy),l.fragment&&l.fragment.d(t),l.on_destroy=l.fragment=null,l.ctx=[])}function Ze(e,t){e.$$.dirty[0]===-1&&(Z.push(e),Fe(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function Qe(e,t,l,n,i,r,o,s=[-1]){const h=ce;U(e);const a=e.$$={fragment:null,ctx:null,props:r,update:ee,not_equal:i,bound:se(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(h?h.$$.context:[])),callbacks:se(),dirty:s,skip_bound:!1,root:t.target||h.$$.root};o&&o(a.root);let _=!1;if(a.ctx=l?l(e,t.props||{},(m,b,...A)=>{const z=A.length?A[0]:b;return a.ctx&&i(a.ctx[m],a.ctx[m]=z)&&(!a.skip_bound&&a.bound[m]&&a.bound[m](z),_&&Ze(e,m)),b}):[],a.update(),_=!0,Y(a.before_update),a.fragment=n?n(a.ctx):!1,t.target){if(t.hydrate){const m=Be(t.target);a.fragment&&a.fragment.l(m),m.forEach(y)}else a.fragment&&a.fragment.c();t.intro&&Ke(e.$$.fragment),Ve(e,t.target,t.anchor,t.customElement),Le()}U(h)}class Ue{$destroy(){Ye(this,1),this.$destroy=ee}$on(t,l){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(l),()=>{const i=n.indexOf(l);i!==-1&&n.splice(i,1)}}$set(t){this.$$set&&!ze(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function de(e,t,l){const n=e.slice();return n[20]=t[l],n}function _e(e,t,l){const n=e.slice();return n[20]=t[l],n}function me(e,t,l){const n=e.slice();return n[20]=t[l],n}function pe(e,t,l){const n=e.slice();return n[20]=t[l],n}function he(e,t,l){const n=e.slice();return n[23]=t[l],n[25]=l,n}function We(e){let t,l,n,i,r,o,s,h,a,_,m,b,A,z,H,B,R,O,x,$,L,q,g,w=e[4],T=[];for(let f=0;f<w.length;f+=1)T[f]=ke(me(e,w,f));let S=e[2],c=[];for(let f=0;f<S.length;f+=1)c[f]=ge(_e(e,S,f));let v=e[5]<3&&ye();function k(f,D){return f[5]==1?lt:f[5]==2?tt:et}let I=k(e),F=I(e),V=[...e[2].sort(je)],P=[];for(let f=0;f<V.length;f+=1)P[f]=we(de(e,V,f));return{c(){t=p("div"),t.textContent="Player houses:",l=N(),n=p("div");for(let f=0;f<T.length;f+=1)T[f].c();i=N(),r=p("div"),o=j(`Fallen houses (in random order \u2013 use as many as needed for scenario):
        `),s=p("div");for(let f=0;f<c.length;f+=1)c[f].c();h=j(`
        Technologies available `),v&&v.c(),a=j(`:
        `),_=p("table"),m=p("tr"),b=p("th"),b.textContent="House",A=N(),F.c(),z=N();for(let f=0;f<P.length;f+=1)P[f].c();H=N(),B=p("hr"),R=N(),O=p("div"),x=p("button"),x.textContent="Generate again!",$=N(),L=p("button"),L.textContent="Reset!",E(n,"class","row svelte-50rr9i"),M(n,"display","flex"),M(n,"flex-wrap","wrap"),E(s,"class","row svelte-50rr9i"),M(s,"display","flex"),M(s,"flex-wrap","wrap"),E(b,"class","svelte-50rr9i"),E(m,"class","svelte-50rr9i"),E(_,"class","svelte-50rr9i"),M(x,"font-size","4vmin"),M(x,"padding","1vmin"),M(L,"font-size","4vmin"),M(L,"padding","1vmin")},m(f,D){C(f,t,D),C(f,l,D),C(f,n,D);for(let u=0;u<T.length;u+=1)T[u].m(n,null);C(f,i,D),C(f,r,D),d(r,o),d(r,s);for(let u=0;u<c.length;u+=1)c[u].m(s,null);d(r,h),v&&v.m(r,null),d(r,a),d(r,_),d(_,m),d(m,b),d(m,A),F.m(m,null),d(_,z);for(let u=0;u<P.length;u+=1)P[u].m(_,null);d(r,H),d(r,B),d(r,R),d(r,O),d(O,x),d(O,$),d(O,L),q||(g=[G(x,"click",e[8]),G(L,"click",e[15])],q=!0)},p(f,D){if(D[0]&16){w=f[4];let u;for(u=0;u<w.length;u+=1){const J=me(f,w,u);T[u]?T[u].p(J,D):(T[u]=ke(J),T[u].c(),T[u].m(n,null))}for(;u<T.length;u+=1)T[u].d(1);T.length=w.length}if(D[0]&4){S=f[2];let u;for(u=0;u<S.length;u+=1){const J=_e(f,S,u);c[u]?c[u].p(J,D):(c[u]=ge(J),c[u].c(),c[u].m(s,null))}for(;u<c.length;u+=1)c[u].d(1);c.length=S.length}if(f[5]<3?v||(v=ye(),v.c(),v.m(r,a)):v&&(v.d(1),v=null),I!==(I=k(f))&&(F.d(1),F=I(f),F&&(F.c(),F.m(m,null))),D[0]&44){V=[...f[2].sort(je)];let u;for(u=0;u<V.length;u+=1){const J=de(f,V,u);P[u]?P[u].p(J,D):(P[u]=we(J),P[u].c(),P[u].m(_,null))}for(;u<P.length;u+=1)P[u].d(1);P.length=V.length}},d(f){f&&y(t),f&&y(l),f&&y(n),Q(T,f),f&&y(i),f&&y(r),Q(c,f),v&&v.d(),F.d(),Q(P,f),q=!1,Y(g)}}}function Xe(e){let t,l,n,i,r,o,s,h,a,_,m,b,A,z,H,B,R,O,x,$,L,q,g=["Solo","2 players","3 players","4 players"],w=[];for(let c=0;c<4;c+=1)w[c]=Se(he(e,g,c));let T=e[1],S=[];for(let c=0;c<T.length;c+=1)S[c]=Ee(pe(e,T,c));return{c(){t=p("div"),l=j(`Player count: 
      `);for(let c=0;c<4;c+=1)w[c].c();n=N(),i=p("div"),r=p("div"),o=j("Select player houses: "),s=p("button"),s.textContent="Choose at random",h=j(`
        Max complexity: 
        `),a=p("select"),_=p("option"),_.textContent="1",m=p("option"),m.textContent="2",b=p("option"),b.textContent="3",A=p("option"),A.textContent="4",z=N(),H=p("div");for(let c=0;c<S.length;c+=1)S[c].c();B=N(),R=p("hr"),O=N(),x=p("div"),$=p("button"),$.textContent="Generate!",E(t,"class","row svelte-50rr9i"),M(s,"font-size","3vmin"),M(s,"padding","1vmin"),_.__value=1,_.value=_.__value,m.__value=2,m.value=m.__value,b.__value=3,b.value=b.__value,A.__value=4,A.value=A.__value,M(a,"font-size","3vmin"),M(a,"padding","1vmin"),e[0]===void 0&&le(()=>e[10].call(a)),E(r,"class","row svelte-50rr9i"),E(H,"class","row svelte-50rr9i"),M(H,"display","flex"),M(H,"flex-wrap","wrap"),M($,"font-size","4vmin"),M($,"padding","1vmin")},m(c,v){C(c,t,v),d(t,l);for(let k=0;k<4;k+=1)w[k].m(t,null);C(c,n,v),C(c,i,v),d(i,r),d(r,o),d(r,s),d(r,h),d(r,a),d(a,_),d(a,m),d(a,b),d(a,A),fe(a,e[0]),d(i,z),d(i,H);for(let k=0;k<S.length;k+=1)S[k].m(H,null);C(c,B,v),C(c,R,v),C(c,O,v),C(c,x,v),d(x,$),L||(q=[G(s,"click",e[7]),G(a,"change",e[10]),G($,"click",e[8])],L=!0)},p(c,v){if(v[0]&32){g=["Solo","2 players","3 players","4 players"];let k;for(k=0;k<4;k+=1){const I=he(c,g,k);w[k]?w[k].p(I,v):(w[k]=Se(I),w[k].c(),w[k].m(t,null))}for(;k<4;k+=1)w[k].d(1)}if(v[0]&1&&fe(a,c[0]),v[0]&82){T=c[1];let k;for(k=0;k<T.length;k+=1){const I=pe(c,T,k);S[k]?S[k].p(I,v):(S[k]=Ee(I),S[k].c(),S[k].m(H,null))}for(;k<S.length;k+=1)S[k].d(1);S.length=T.length}},d(c){c&&y(t),Q(w,c),c&&y(n),c&&y(i),Q(S,c),c&&y(B),c&&y(R),c&&y(O),c&&y(x),L=!1,Y(q)}}}function ve(e){let t;return{c(){t=j("\xA0\u{1F4A5}")},m(l,n){C(l,t,n)},d(l){l&&y(t)}}}function ke(e){let t,l=e[20].name+"",n,i=e[20].cracked&&ve();return{c(){t=p("span"),n=j(l),i&&i.c(),E(t,"class","card_info selected svelte-50rr9i")},m(r,o){C(r,t,o),d(t,n),i&&i.m(t,null)},p(r,o){o[0]&16&&l!==(l=r[20].name+"")&&K(n,l),r[20].cracked?i||(i=ve(),i.c(),i.m(t,null)):i&&(i.d(1),i=null)},d(r){r&&y(t),i&&i.d()}}}function be(e){let t;return{c(){t=j("\xA0\u{1F4A5}")},m(l,n){C(l,t,n)},d(l){l&&y(t)}}}function ge(e){let t,l=e[20].name+"",n,i=e[20].cracked&&be();return{c(){t=p("span"),n=j(l),i&&i.c(),E(t,"class","card_info svelte-50rr9i")},m(r,o){C(r,t,o),d(t,n),i&&i.m(t,null)},p(r,o){o[0]&4&&l!==(l=r[20].name+"")&&K(n,l),r[20].cracked?i||(i=be(),i.c(),i.m(t,null)):i&&(i.d(1),i=null)},d(r){r&&y(t),i&&i.d()}}}function ye(e){let t;return{c(){t=j("(with Basic cards to use/remove)")},m(l,n){C(l,t,n)},d(l){l&&y(t)}}}function et(e){let t;return{c(){t=p("th"),t.textContent="Cards to use",E(t,"class","svelte-50rr9i")},m(l,n){C(l,t,n)},d(l){l&&y(t)}}}function tt(e){let t,l,n;return{c(){t=p("th"),t.textContent="Just +4 Influence card",l=N(),n=p("th"),n.textContent="Both cards",E(t,"class","svelte-50rr9i"),E(n,"class","svelte-50rr9i")},m(i,r){C(i,t,r),C(i,l,r),C(i,n,r)},d(i){i&&y(t),i&&y(l),i&&y(n)}}}function lt(e){let t,l,n;return{c(){t=p("th"),t.textContent="Just +4 Influence card",l=N(),n=p("th"),n.textContent="Just 0 Influence card",E(t,"class","svelte-50rr9i"),E(n,"class","svelte-50rr9i")},m(i,r){C(i,t,r),C(i,l,r),C(i,n,r)},d(i){i&&y(t),i&&y(l),i&&y(n)}}}function Ce(e){let t,l=e[3].filter(i).filter(Me).map(Ne).join(", ")+"",n;function i(...r){return e[12](e[20],...r)}return{c(){t=p("td"),n=j(l),E(t,"class","inf svelte-50rr9i")},m(r,o){C(r,t,o),d(t,n)},p(r,o){e=r,o[0]&12&&l!==(l=e[3].filter(i).filter(Me).map(Ne).join(", ")+"")&&K(n,l)},d(r){r&&y(t)}}}function nt(e){let t,l=e[3].filter(i).filter(Pe).map(xe).join(", ")+"",n;function i(...r){return e[14](e[20],...r)}return{c(){t=p("td"),n=j(l),E(t,"class","both svelte-50rr9i")},m(r,o){C(r,t,o),d(t,n)},p(r,o){e=r,o[0]&12&&l!==(l=e[3].filter(i).filter(Pe).map(xe).join(", ")+"")&&K(n,l)},d(r){r&&y(t)}}}function it(e){let t,l=e[3].filter(i).filter(He).map(Ie).join(", ")+"",n;function i(...r){return e[13](e[20],...r)}return{c(){t=p("td"),n=j(l),E(t,"class","no_inf svelte-50rr9i")},m(r,o){C(r,t,o),d(t,n)},p(r,o){e=r,o[0]&12&&l!==(l=e[3].filter(i).filter(He).map(Ie).join(", ")+"")&&K(n,l)},d(r){r&&y(t)}}}function we(e){let t,l,n=e[20].name+"",i,r,o,s,h=e[5]<3&&Ce(e);function a(b,A){return b[5]==1?it:nt}let _=a(e),m=_(e);return{c(){t=p("tr"),l=p("td"),i=j(n),r=N(),h&&h.c(),o=N(),m.c(),s=N(),E(l,"class","house_name svelte-50rr9i"),E(t,"class","svelte-50rr9i")},m(b,A){C(b,t,A),d(t,l),d(l,i),d(t,r),h&&h.m(t,null),d(t,o),m.m(t,null),d(t,s)},p(b,A){A[0]&4&&n!==(n=b[20].name+"")&&K(i,n),b[5]<3?h?h.p(b,A):(h=Ce(b),h.c(),h.m(t,o)):h&&(h.d(1),h=null),_===(_=a(b))&&m?m.p(b,A):(m.d(1),m=_(b),m&&(m.c(),m.m(t,s)))},d(b){b&&y(t),h&&h.d(),m.d()}}}function Se(e){let t,l,n,i;function r(...o){return e[9](e[25],...o)}return{c(){t=p("span"),l=j(e[23]),E(t,"class","card_info svelte-50rr9i"),te(t,"selected",e[5]==e[25]+1)},m(o,s){C(o,t,s),d(t,l),n||(i=G(t,"click",r),n=!0)},p(o,s){e=o,s[0]&32&&te(t,"selected",e[5]==e[25]+1)},d(o){o&&y(t),n=!1,i()}}}function Te(e){let t;return{c(){t=j("\xA0\u{1F4A5}")},m(l,n){C(l,t,n)},d(l){l&&y(t)}}}function Ee(e){let t,l=e[20].name+"",n,i,r,o,s=e[20].cracked&&Te();function h(...a){return e[11](e[20],...a)}return{c(){t=p("span"),n=j(l),s&&s.c(),E(t,"class","card_info svelte-50rr9i"),E(t,"title",i=Ae(e[20])),M(t,"cursor","pointer"),te(t,"selected",e[4].includes(e[20]))},m(a,_){C(a,t,_),d(t,n),s&&s.m(t,null),r||(o=G(t,"click",h),r=!0)},p(a,_){e=a,_[0]&2&&l!==(l=e[20].name+"")&&K(n,l),e[20].cracked?s||(s=Te(),s.c(),s.m(t,null)):s&&(s.d(1),s=null),_[0]&2&&i!==(i=Ae(e[20]))&&E(t,"title",i),_[0]&18&&te(t,"selected",e[4].includes(e[20]))},d(a){a&&y(t),s&&s.d(),r=!1,o()}}}function rt(e){let t,l,n;function i(s,h){return s[2].length==0?Xe:We}let r=i(e),o=r(e);return{c(){t=p("main"),l=p("h1"),l.textContent="Voidfall house randomiser",n=N(),o.c()},m(s,h){C(s,t,h),d(t,l),d(t,n),o.m(t,null)},p(s,h){r===(r=i(s))&&o?o.p(s,h):(o.d(1),o=r(s),o&&(o.c(),o.m(t,null)))},i:ee,o:ee,d(s){s&&y(t),o.d()}}}function ie(e,t=1){let l=[];for(let n=0;n<t;n++){let i=e.filter(s=>!l.includes(s)),r=i.length,o=Math.floor(Math.random()*r);l=[...l,i[o]],console.log(e,o,l)}return l}function re(e){let t=e.length,l;for(;t>0;)l=Math.floor(Math.random()*t),t--,[e[t],e[l]]=[e[l],e[t]];return e}function Ae(e){return`Technologies: ${e.techs.join(", ")}`}const je=(e,t)=>e.name.localeCompare(t.name),Me=e=>e.class=="inf",Ne=e=>e.name,He=e=>e.class=="no_inf",Ie=e=>e.name,Pe=e=>e.class=="both",xe=e=>e.name;function ot(e,t,l){let n=[{name:"Astoran",cracked:!0,techs:["Deep Space Missiles","Sentries"],complexity:2},{name:"Belitan",cracked:!1,techs:["Data Refinery","Targeting"],complexity:1},{name:"Cortozaar",cracked:!1,techs:["Starbases","Torpedoes"],complexity:1},{name:"Dunlork",cracked:!0,techs:["Energy Cells","Orbital Docks"],complexity:1},{name:"Fenrax",cracked:!1,techs:["Carriers","Central Surveillance"],complexity:4},{name:"Kradmor",cracked:!1,techs:["Purifier","Salvage Scanner"],complexity:4},{name:"Marqualos",cracked:!1,techs:["Trade Nexus","Autonomous Drones"],complexity:3},{name:"Nervo",cracked:!1,techs:["Ark Ships","Robotics"],complexity:3},{name:"Novaris",cracked:!1,techs:["Cybernetics","Combat Replicators"],complexity:4},{name:"Shiveus",cracked:!0,techs:["Dreadnoughts","Decontamination Chambers"],complexity:3},{name:"Thegwyn",cracked:!1,techs:["Neural Matrix","Terraforming"],complexity:2},{name:"Valnis",cracked:!1,techs:["Escape Pods","Shields"],complexity:1},{name:"Yarvek",cracked:!0,techs:["Hyperdrive","Tactical Transports"],complexity:2},{name:"Zenor",cracked:!0,techs:["Cloning","Destroyers"],complexity:2}],i=[...n],r=i.filter(g=>g.cracked),o=i.filter(g=>!g.cracked),s=[],h=[];function a(g){_.includes(g)?l(4,_=_.filter(w=>w.name!=g.name)):(l(4,_=[..._,g]),_.length>4&&l(4,_=_.slice(1)))}let _=[],m=[],b=1;function A(){let g=[...i];re(g),l(4,_=g.slice(0,b))}function z(){m=[];let g=r.filter(v=>!_.includes(v)),w=o.filter(v=>!_.includes(v)),T=[...g,...w];m=[...m,...ie(g),...ie(w)],T=T.filter(v=>!m.includes(v)),m=[...m,...ie(T,2)],l(2,s=m),re(s);let S=s.flatMap(v=>v.techs);re(S);let c=3;if(b==2&&(c=2),b<3){let v=S.slice(0,c),k=S.slice(c);l(3,h=[...v.map(I=>({name:I,inf:"+4 Influence card",class:"inf"})),...k.map(I=>({name:I,inf:b==1?"0 Influence card":"both cards",class:b==1?"no_inf":"both"}))])}else b==2||l(3,h=S.map(v=>({name:v,inf:"both cards",class:"both"})))}let H=4;const B=(g,w)=>{l(5,b=g+1)};function R(){H=Re(this),l(0,H)}const O=(g,w)=>{a(g)},x=(g,w)=>g.techs.includes(w.name),$=(g,w)=>g.techs.includes(w.name),L=(g,w)=>g.techs.includes(w.name),q=g=>{l(2,s=[]),l(4,_=[])};return e.$$.update=()=>{e.$$.dirty[0]&1&&l(1,i=n.filter(g=>g.complexity<=H))},[H,i,s,h,_,b,a,A,z,B,R,O,x,$,L,q]}class ct extends Ue{constructor(t){super(),Qe(this,t,ot,rt,$e,{},null,[-1,-1])}}new ct({target:document.getElementById("app")});
